<div class="home"><%= link_to "Home", "/", class: "hover home-inner" %></div>
<div class="add-ingredient">
<%= form_with model: @recipe_food, url: recipe_recipe_foods_path do |f| %>
<div class="add-recipe-food">
<div><%= link_to 'Create New Label', new_from_recipe_foods_path(recipe_id: @recipe_id), class: "hover home-inner" %></div>
  <div>
    <%= f.label :food_id, "Name - Unit - Price $" %><br />
    <%= f.select :food_id, (@foods || []).map { |food| ["#{food.name} - #{food.measurement_unit} - #{food.price}", food.id] } %>
  </div>

  <div>
    <%= f.label :quantity %><br />
    <%= f.text_field :quantity, autocomplete: "quantity", type: "number", step: "0.01" %>
  </div>

  <%= f.hidden_field :recipe_id, value: @recipe_id %>
  <div>
    <%= f.submit "Add Ingredient", class: "hover home-inner" %>
  </div>
</div>
<% end %>

<table>
  <tr>
    <th>ID</th>
    <th>Food</th>
    <th>Measurement unit</th>
    <th>Unit price</th>
    <th>Quantity</th>
  </tr>
  <% (@foods || []).each do |food| %>
    <tr>
      <td><%= food.id %></td>
      <td><%= food.name %></td>
      <td><%= food.measurement_unit %></td>
      <td><%= food.price %></td>
      <td><%= food.quantity %></td>
    </tr>
  <% end %>
</table>
</div>
<div class="backto"><%= link_to "Back to Recipe", recipe_path(params[:recipe_id]), class: "hover home-inner" %></div>